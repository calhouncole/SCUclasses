<div class="container-fluid">
  <div ng-controller="courseOptionsCtrl" class="row-fluid">
    <div class="span6">
      <h4>Classes</h4>

      <input ng-model="addCourseText" type="text" placeholder='Type a class, like "RSOC 9"'/>

      <div ng-repeat="(name, course) in courses" class="course collapsed-{{course.show}}">
        <div class="inner">
          <h4>
            <div class="btn-group">
              <button class="btn"><i class="icon-circle-arrow-up"></i></button>
              <button class="btn btn-danger"><i class="icon-remove-sign icon-white"></i></button>
            </div>
            {{name}} - {{course.0.fullname}}
          </h4>
          <div ng-repeat="section in course" class="section selected-{{section.selected}} validchoice-{{isValidChoice(section)}}">
            <label for="section-{{section.id}}">
              <table>
                <tbody>
                <tr>
                  <td class="select">
                    <input ng-model="section.selected" id="section-{{section.id}}" type="checkbox" ng-disabled="!isValidChoice(section)">
                  </td>
                  <td class="schedule">
                    <span class="days">{{section.days}}</span>
                    <br>
                    <span class="times">{{section.time_start.formatted}} - {{section.time_end.formatted}}</span>
                  </td>
                  <td class="seats">
                    <span class="seats">{{section.seats}}</span>
                    <br>
                    <span class="remaining">seat{{plural(section.seats)}} remaining</span>
                  </td>
                  <td class="units">
                    <span class="number">{{section.units}}</span>
                    <br>
                    <span class="units">unit{{plural(section.units)}}</span>
                  </td>
                  <td class="info">
                    <span><strong>Professor:</strong> <a class="course-evaluation" href="">{{section.instructors}}</a></span>
                    <br>
                    <span><strong>Class ID:</strong> <a href="http://www.scu.edu/courseavail/class/?fuseaction=details&class_nbr={{section.id}}&term=<%= TERM %>" target="_blank">{{section.id}}</a></span>
                  </td>
                </tr>
                </tbody>
              </table>
            </label>
          </div>
        </div>
      </div>

      <ul>
        <div ng-repeat="(name, course) in courses">
          <li ng-repeat="section in course" ng-show="section.selected">{{section.id}}</li>
        </div>
      </ul>
    </div>


    <div class="span6">
      <div class="calendar">
        <div class="days">
          <div class="hours">
            <% @hours.each do |h| %>
              <div class="hour"><%= ((h < 13) ? (h) : (h - 12)).to_s + ((h < 12) ? 'am' : 'pm') %></div>
            <% end %>
          </div>

          <% @days.each do |d,day| %>
            <div class="day" id="<%= d %>">
              <div class="day-title"><%= day %></div>
              <% @hours[0..(@hours.length - 3)].each do |h| %>
                <div class="hour"></div>
              <% end %>
              <div class="hour last"></div>

              <div ng-repeat="(name, course) in courses">
                <div ng-repeat="section in course">
                  <div ng-show="showCourseBlock(section, '<%= d %>')" class="course-block" style="top:{{section.style.top}}; height:{{section.style.height}};">
                    <div class="name">{{section.name}}</div>
                    <div class="times">{{section.time_start.formatted}} - {{section.time_end.formatted}}</div>
                  </div>
                </div>
              </div>



            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>








<script type="text/javascript">
  var js_courses = <%= raw @js_courses.to_json %>;
</script>

<form id="course-evaluation-form" action="http://evaluations.scu.edu/" method="post" target="_blank">
  <input name="fac" type="hidden">
</form>
