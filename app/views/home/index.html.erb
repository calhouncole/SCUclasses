<div class="container-fluid">
  <div ng-controller="courseOptionsController" class="row-fluid">
    <div class="span6">
      <h4>Classes</h4>

      <input ng-model="addCourseText" type="text" placeholder='Type a class, like "RSOC 9"'/>

      <div ng-repeat="(name, course_divide) in courses_divided" class="course">
        <div class="inner">
          <h4>{{name}} - {{course_divide.0.fullname}}</h4>
          <div ng-repeat="course in course_divide" class="section">
            <table>
              <tbody>
              <tr>
                <td class="schedule">
                  <span class="days">{{course.days}}</span>
                  <br>
                  <span class="times">{{course.time_start.formatted}} - {{course.time_end.formatted}}</span>
                </td>
                <td class="seats">
                  <span class="seats">{{course.seats}}</span>
                  <br>
                  <span class="remaining">seat{{plural(course.seats)}} remaining</span>
                </td>
                <td><input ng-model="course.show" type="checkbox"></td>
                <td>{{course.name}}</td>
                <td>{{course.fullname}}</td>
                <td><a href="http://www.scu.edu/courseavail/class/?fuseaction=details&class_nbr={{course.id}}&term=<%= TERM %>" target="_blank">{{course.id}}</a></td>
                <td><a class="course-evaluation" href="#">{{course.instructors}}</a></td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>


    <div class="span6">
      <div class="calendar">
        <div class="days">
          <div class="hours">
            <% @hours.each do |h| %>
              <div class="hour"><%= ((h < 13) ? (h) : (h - 12)).to_s + ((h < 12) ? 'am' : 'pm') %></div>
            <% end %>
          </div>

          <% @days.each do |d,day| %>
            <div class="day" id="<%= d %>">
              <div class="day-title"><%= day %></div>
              <% @hours[0..(@hours.length - 3)].each do |h| %>
                <div class="hour"></div>
              <% end %>
              <div class="hour last"></div>

              <div ng-repeat="course in courses">
                <div ng-show="showCourseBlock(course, '<%= d %>')" class="course-block" style="top:{{course.style.top}}; height:{{course.style.height}};">
                  <div class="name">{{course.name}}</div>
                  <div class="times">{{course.time_start.formatted}} - {{course.time_end.formatted}}</div>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>








<script type="text/javascript">
  var js_courses = <%= raw @js_courses.to_json %>;
</script>

<form id="course-evaluation-form" action="http://evaluations.scu.edu/" method="post" target="_blank">
  <input name="fac" type="hidden">
</form>
